{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/pxsib/OneDrive/Documents/yzo/it-company-website/app/api/contact/route.js"],"sourcesContent":["// app/api/contact/route.js\r\nimport { NextResponse } from 'next/server'\r\nimport nodemailer from 'nodemailer'\r\n\r\nexport async function POST(request) {\r\n  try {\r\n    const { name, email, message } = await request.json()\r\n\r\n    // Validate required fields\r\n    if (!name || !email || !message) {\r\n      return NextResponse.json(\r\n        { error: 'All fields are required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Validate email format\r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\r\n    if (!emailRegex.test(email)) {\r\n      return NextResponse.json(\r\n        { error: 'Invalid email address' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n\r\n    // Create transporter - FIXED: createTransporter -> createTransport\r\n    const transporter = nodemailer.createTransport({\r\n      service: process.env.EMAIL_SERVICE || 'gmail',\r\n      auth: {\r\n        user: process.env.EMAIL_USER,\r\n        pass: process.env.EMAIL_PASSWORD,\r\n      },\r\n    })\r\n\r\n    // Verify transporter configuration\r\n    try {\r\n      await transporter.verify()\r\n      console.log('Server is ready to take our messages')\r\n    } catch (verifyError) {\r\n      console.error('Transporter verification failed:', verifyError)\r\n      return NextResponse.json(\r\n        { error: 'Email service configuration error. Please check your environment variables.' },\r\n        { status: 500 }\r\n      )\r\n    }\r\n\r\n    // Email content for admin\r\n    const adminMailOptions = {\r\n      from: process.env.EMAIL_FROM,\r\n      to: process.env.EMAIL_TO,\r\n      subject: `New Contact Form Submission from ${name}`,\r\n      html: `\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\r\n            .container { max-width: 600px; margin: 0 auto; padding: 20px; }\r\n            .header { background: #20427f; color: white; padding: 20px; text-align: center; }\r\n            .content { background: #f9f9f9; padding: 20px; border: 1px solid #ddd; }\r\n            .field { margin-bottom: 15px; }\r\n            .field-label { font-weight: bold; color: #20427f; }\r\n            .footer { text-align: center; margin-top: 20px; padding: 20px; background: #f0f0f0; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"container\">\r\n            <div class=\"header\">\r\n              <h1>New Contact Form Submission</h1>\r\n            </div>\r\n            <div class=\"content\">\r\n              <div class=\"field\">\r\n                <span class=\"field-label\">Name:</span> ${name}\r\n              </div>\r\n              <div class=\"field\">\r\n                <span class=\"field-label\">Email:</span> \r\n                <a href=\"mailto:${email}\">${email}</a>\r\n              </div>\r\n              <div class=\"field\">\r\n                <span class=\"field-label\">Message:</span>\r\n                <p>${message.replace(/\\n/g, '<br>')}</p>\r\n              </div>\r\n              <div class=\"field\">\r\n                <span class=\"field-label\">Submitted At:</span> \r\n                ${new Date().toLocaleString('en-US', { \r\n                  timeZone: 'Asia/Kolkata',\r\n                  dateStyle: 'full', \r\n                  timeStyle: 'long' \r\n                })}\r\n              </div>\r\n            </div>\r\n            <div class=\"footer\">\r\n              <p>This message was sent from your website contact form.</p>\r\n            </div>\r\n          </div>\r\n        </body>\r\n        </html>\r\n      `,\r\n    }\r\n\r\n    // Auto-reply to the user\r\n    const userMailOptions = {\r\n      from: process.env.EMAIL_FROM,\r\n      to: email,\r\n      subject: 'Thank you for contacting Your Zeros and Ones',\r\n      html: `\r\n        <!DOCTYPE html>\r\n        <html>\r\n        <head>\r\n          <style>\r\n            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\r\n            .container { max-width: 600px; margin: 0 auto; padding: 20px; }\r\n            .header { background: #20427f; color: white; padding: 20px; text-align: center; }\r\n            .content { background: #f9f9f9; padding: 20px; border: 1px solid #ddd; }\r\n            .footer { text-align: center; margin-top: 20px; padding: 20px; background: #f0f0f0; }\r\n            .contact-info { background: white; padding: 15px; margin: 15px 0; border-left: 4px solid #20427f; }\r\n          </style>\r\n        </head>\r\n        <body>\r\n          <div class=\"container\">\r\n            <div class=\"header\">\r\n              <h1>Thank You for Contacting Us!</h1>\r\n            </div>\r\n            <div class=\"content\">\r\n              <p>Dear <strong>${name}</strong>,</p>\r\n              \r\n              <p>Thank you for reaching out to <strong>Your Zeros and Ones</strong>. We have received your message and our team will get back to you within 24 hours.</p>\r\n              \r\n              <div class=\"contact-info\">\r\n                <h3>Here's a summary of your message:</h3>\r\n                <p><strong>Message:</strong> ${message}</p>\r\n              </div>\r\n              \r\n              <p>In the meantime, feel free to explore our services or connect with us on social media:</p>\r\n              \r\n              <p><strong>Business Hours:</strong><br>\r\n                 Monday - Friday: 9:00 AM - 6:00 PM<br>\r\n                 Saturday: 10:00 AM - 4:00 PM<br>\r\n                 Sunday: Closed\r\n              </p>\r\n              \r\n              <p><strong>Contact Information:</strong><br>\r\n                 Phone: +91 96053 05453<br>\r\n                 Email: info@yourzerosandones.com<br>\r\n                 Address: 1st floor, Valentine Estate, Palachuvadu, Kakkanad, Kochi - Kerala 682030\r\n              </p>\r\n            </div>\r\n            <div class=\"footer\">\r\n              <p>Best regards,<br><strong>The Your Zeros and Ones Team</strong></p>\r\n              <p>\r\n                <a href=\"https://www.facebook.com/yourzerosandones/\">Facebook</a> | \r\n                <a href=\"https://x.com/yourzerosandone\">Twitter</a> | \r\n                <a href=\"https://www.linkedin.com/company/your-zeros-and-ones/\">LinkedIn</a> | \r\n                <a href=\"https://www.instagram.com/yourzerosandones\">Instagram</a> | \r\n                <a href=\"https://www.youtube.com/@YOURZEROSANDONES\">YouTube</a>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </body>\r\n        </html>\r\n      `,\r\n    }\r\n\r\n    // Send both emails\r\n    await Promise.all([\r\n      transporter.sendMail(adminMailOptions),\r\n      transporter.sendMail(userMailOptions)\r\n    ])\r\n\r\n    return NextResponse.json(\r\n      { \r\n        message: 'Message sent successfully! We have also sent a confirmation email to your inbox.' \r\n      },\r\n      { status: 200 }\r\n    )\r\n\r\n  } catch (error) {\r\n    console.error('Contact form error:', error)\r\n    \r\n    let errorMessage = 'Failed to send message. Please try again later.'\r\n    \r\n    if (error.code === 'EAUTH') {\r\n      errorMessage = 'Email authentication failed. Please check your email configuration in environment variables.'\r\n    } else if (error.code === 'ECONNECTION') {\r\n      errorMessage = 'Unable to connect to email service. Please check your internet connection.'\r\n    } else if (error.message.includes('Invalid login')) {\r\n      errorMessage = 'Email authentication failed. Please check your email and app password.'\r\n    }\r\n\r\n    return NextResponse.json(\r\n      { error: errorMessage },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAC3B;AACA;;;AAEO,eAAe,KAAK,OAAO;IAChC,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,OAAO,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEnD,2BAA2B;QAC3B,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,SAAS;YAC/B,OAAO,4MAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA0B,GACnC;gBAAE,QAAQ;YAAI;QAElB;QAEA,wBAAwB;QACxB,MAAM,aAAa;QACnB,IAAI,CAAC,WAAW,IAAI,CAAC,QAAQ;YAC3B,OAAO,4MAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAwB,GACjC;gBAAE,QAAQ;YAAI;QAElB;QAEA,mEAAmE;QACnE,MAAM,cAAc,wNAAU,CAAC,eAAe,CAAC;YAC7C,SAAS,QAAQ,GAAG,CAAC,aAAa,IAAI;YACtC,MAAM;gBACJ,MAAM,QAAQ,GAAG,CAAC,UAAU;gBAC5B,MAAM,QAAQ,GAAG,CAAC,cAAc;YAClC;QACF;QAEA,mCAAmC;QACnC,IAAI;YACF,MAAM,YAAY,MAAM;YACxB,QAAQ,GAAG,CAAC;QACd,EAAE,OAAO,aAAa;YACpB,QAAQ,KAAK,CAAC,oCAAoC;YAClD,OAAO,4MAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAA8E,GACvF;gBAAE,QAAQ;YAAI;QAElB;QAEA,0BAA0B;QAC1B,MAAM,mBAAmB;YACvB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI,QAAQ,GAAG,CAAC,QAAQ;YACxB,SAAS,CAAC,iCAAiC,EAAE,MAAM;YACnD,MAAM,CAAC;;;;;;;;;;;;;;;;;;;;;uDAqB0C,EAAE,KAAK;;;;gCAI9B,EAAE,MAAM,EAAE,EAAE,MAAM;;;;mBAI/B,EAAE,QAAQ,OAAO,CAAC,OAAO,QAAQ;;;;gBAIpC,EAAE,IAAI,OAAO,cAAc,CAAC,SAAS;gBACnC,UAAU;gBACV,WAAW;gBACX,WAAW;YACb,GAAG;;;;;;;;;MASb,CAAC;QACH;QAEA,yBAAyB;QACzB,MAAM,kBAAkB;YACtB,MAAM,QAAQ,GAAG,CAAC,UAAU;YAC5B,IAAI;YACJ,SAAS;YACT,MAAM,CAAC;;;;;;;;;;;;;;;;;;;8BAmBiB,EAAE,KAAK;;;;;;6CAMQ,EAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MA8BjD,CAAC;QACH;QAEA,mBAAmB;QACnB,MAAM,QAAQ,GAAG,CAAC;YAChB,YAAY,QAAQ,CAAC;YACrB,YAAY,QAAQ,CAAC;SACtB;QAED,OAAO,4MAAY,CAAC,IAAI,CACtB;YACE,SAAS;QACX,GACA;YAAE,QAAQ;QAAI;IAGlB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QAErC,IAAI,eAAe;QAEnB,IAAI,MAAM,IAAI,KAAK,SAAS;YAC1B,eAAe;QACjB,OAAO,IAAI,MAAM,IAAI,KAAK,eAAe;YACvC,eAAe;QACjB,OAAO,IAAI,MAAM,OAAO,CAAC,QAAQ,CAAC,kBAAkB;YAClD,eAAe;QACjB;QAEA,OAAO,4MAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAa,GACtB;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}